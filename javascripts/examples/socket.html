<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>web socket</title>
  </head>
  <body>
    <script src="https://cdn.bootcss.com/socket.io/1.7.3/socket.io.js"></script>
    <script type="text/javascript">
      (function(global, undefined){
        // 创建Socket.IO实例，建立连接
        var socket= new io.Socket('localhost',{ 
          port: 8080
        });
        socket.connect();

        // 添加一个连接监听器
        socket.on('connect',function() {
          console.log('Client has connected to the server!');
        });

        // 添加一个连接监听器
        socket.on('message',function(data) {
          console.log('Received a message from the server!',data);
        });

        // 添加一个关闭连接的监听器
        socket.on('disconnect',function() {
          console.log('The client has disconnected!');
        });

        // 通过Socket发送一条消息到服务器
        function sendMessageToServer(message) {
          socket.send(message);
        }
      })(window);
    </script>
  </body>
</html>
