1、输入框防止元素标记注入
// Prevents input from having injected markup
function cleanInput(input) {
    return $('<div/>').text(input).text();
}

2、btoa和atob
将ascii字符串或二进制数据转换成一个base64编码过的字符串,该方法不能直接作用于Unicode字符串.
function utf8_to_b64( str ) {
    return window.btoa(encodeURIComponent( str ));
}

3、String.prototype.charCodeAt()和String.fromCharCode()
charCodeAt() 返回指定索引处字符的 Unicode 数值，String.fromCharCode() 静态方法根据指定的 Unicode 编码中的序号值来返回一个字符串。

4、encodeURIComponent和encodeURI的区分
var arr = [];
for(var i=0;i<2568;i++) {
  var char=String.fromCharCode(i);
  if(encodeURI(char)!==encodeURIComponent(char)) {
    arr.push({
      character:char,
      encodeURI:encodeURI(char),
      encodeURIComponent:encodeURIComponent(char)
    });
  }
}
console.table(arr);

5、获取查询字符串的值
function getParameterByName(name,search) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),  //[^&#]，非&且非#
        results = regex.exec(search || location.search);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}
/*列出所有的查询字符串*/
var urlParams;
(window.onpopstate = function () {
    var match,
        pl     = /\+/g,  // Regex for replacing addition symbol with a space
        search = /([^&=]+)=?([^&]*)/g,
        decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
        query  = window.location.search.substring(1);

    urlParams = {};
    while (match = search.exec(query))
       urlParams[decode(match[1])] = decode(match[2]);
})();
